@model Influencers.BusinessLogic.ViewModels.ArticleViewModels.ArticleViewModel

@{
    ViewData["Title"] = "Home Page";
}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $("button").click(function () {
            $.ajax({
                type: 'POST',
                url: 'http://localhost:44379/api/Voting/AddVote',
                data: {
                    articleId: 5,
                    flag: true
                },
                //error: function () {
                //    $('#info').html('<p>An error has occurred</p>');
                //},
                success: function (data) {
                    var $title = $('<h1>').text(data.talks[0].talk_title);
                    var $description = $('<p>').text(data.talks[0].talk_description);
                    $('#info')
                        .append($title)
                        .append($description);
                }
            });
        });
    });
</script>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/homepage.css">
</head>

<br />
<div id="info">asddf</div>
<div class="container">
   
    <div class="row">
        <div class="col-md-12">
            <div class="pull-right sort-by">
                <label for="sort">Filter by: </label>
                <select class="" name="sortBy">
                    <option value="points">Votes (Least First)</option>
                    <option value="-points">Votes (Most First)</option>
                    <option value="timestamp">Date (Newest First)</option>
                    <option value="-timestamp">Date (Oldest First)</option>
                    <option value="title">Title (A-Z)</option>
                    <option value="-title">Title (Z-A)</option>
                </select>
            </div>
        </div>
    </div>
</div>
<div class="post-container" style="background-color: #FCFCFC;">
    <i class="fas fa-crown fa-2x" style=""></i>
</div>
@foreach (var item in Model.Articles)
{
    <div class="w-auto p-3 post-container" style="background-color: #FCFCFC;">
        <div class="vote vote-container">
            <span method="post" class="up-vote"><i class="fas fa-angle-up"></i></span>
            <span class="number">@Html.DisplayFor(model => item.Votes)</span>
            <span class="down-vote"><i class="fas fa-angle-down"></i></span>
        </div>
        <div class="content" style=background-color: white;">
            <a asp-action="ViewArticle" asp-route-id="@item.Id" asp-controller="Article" style="text-decoration: none; color: black;">
                <div class="posted">
                    Posted by @Html.DisplayFor(model => item.Author.Nickname) on @Html.DisplayFor(model => item.AddedTime)
                </div>
                <h3>
                    @Html.DisplayFor(model => item.Title)
                </h3>

                <p>
                    @Html.DisplayFor(model => item.Content)
                </p>
            </a>
            <button>Send an HTTP GET request to a page and get the result back</button>
        </div>

    </div>
}

